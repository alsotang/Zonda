(function(e){function h(t){t=t.split(")");var n=e.trim,r=t.length-1,i,s,o,u=1,a=0,f=0,l=1,c,h,p,d,m,g,y=0,b=0;while(r--){i=t[r].split("("),s=n(i[0]),o=i[1],c=h=p=d=0;switch(s){case"translateX":y+=parseInt(o,10);continue;case"translateY":b+=parseInt(o,10);continue;case"translate":o=o.split(","),y+=parseInt(o[0],10),b+=parseInt(o[1]||0,10);continue;case"rotate":o=v(o),c=Math.cos(o),h=Math.sin(o),p=-Math.sin(o),d=Math.cos(o);break;case"scaleX":c=o,d=1;break;case"scaleY":c=1,d=o;break;case"scale":o=o.split(","),c=o[0],d=o.length>1?o[1]:o[0];break;case"skewX":c=d=1,p=Math.tan(v(o));break;case"skewY":c=d=1,h=Math.tan(v(o));break;case"skew":c=d=1,o=o.split(","),p=Math.tan(v(o[0])),h=Math.tan(v(o[1]||0));break;case"matrix":o=o.split(","),c=+o[0],h=+o[1],p=+o[2],d=+o[3],y+=parseInt(o[4],10),b+=parseInt(o[5],10)}m=u*c+a*p,a=u*h+a*d,g=f*c+l*p,l=f*h+l*d,u=m,f=g}return[u,a,f,l,y,b]}function p(e){var t,n,r,i=e[0],s=e[1],o=e[2],u=e[3];return i*u-s*o?(t=Math.sqrt(i*i+s*s),i/=t,s/=t,r=i*o+s*u,o-=i*r,u-=s*r,n=Math.sqrt(o*o+u*u),o/=n,u/=n,r/=n,i*u<s*o&&(i=-i,s=-s,r=-r,t=-t)):rotate=t=n=r=0,{translate:[+e[4],+e[5]],rotate:Math.atan2(s,i),scale:[t,n],skew:[r,0]}}function d(t){t=t.split(")");var n=[0,0],r=0,i=[1,1],s=[0,0],o=t.length-1,u=e.trim,a,f,l;while(o--)a=t[o].split("("),f=u(a[0]),l=a[1],f=="translateX"?n[0]+=parseInt(l,10):f=="translateY"?n[1]+=parseInt(l,10):f=="translate"?(l=l.split(","),n[0]+=parseInt(l[0],10),n[1]+=parseInt(l[1]||0,10)):f=="rotate"?r+=v(l):f=="scaleX"?i[0]*=l:f=="scaleY"?i[1]*=l:f=="scale"?(l=l.split(","),i[0]*=l[0],i[1]*=l.length>1?l[1]:l[0]):f=="skewX"?s[0]+=v(l):f=="skewY"?s[1]+=v(l):f=="skew"&&(l=l.split(","),s[0]+=v(l[0]),s[1]+=v(l[1]||"0"));return{translate:n,rotate:r,scale:i,skew:s}}function v(e){return~e.indexOf("deg")?parseInt(e,10)*(Math.PI*2/360):~e.indexOf("grad")?parseInt(e,10)*(Math.PI/200):parseFloat(e)}function m(e){return e=/\(([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(e),[e[1],e[2],e[3],e[4],e[5],e[6]]}var t=document.createElement("div"),n=t.style,r="transform",i="Transform",s=["O"+i,"ms"+i,"Webkit"+i,"Moz"+i,r],o=s.length,u,a,f,l,c=/Matrix([^)]*)/;while(o--)if(s[o]in n){e.support[r]=u=s[o];continue}u||(e.support.matrixFilter=a=n.filter===""),t=n=null,e.cssNumber[r]=!0,u&&u!=r?(e.cssProps[r]=u,u=="Moz"+i?f={get:function(t,n){return n?e.css(t,u).split("px").join(""):t.style[u]},set:function(e,t){e.style[u]=/matrix[^)p]*\)/.test(t)?t.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,"matrix$1$2px,$3px"):t}}:/^1\.[0-5](?:\.|$)/.test(e.fn.jquery)&&(f={get:function(t,n){return n?e.css(t,u.replace(/^ms/,"Ms")):t.style[u]}})):a&&(f={get:function(e,t){var n=t&&e.currentStyle?e.currentStyle:e.style,r;return n&&c.test(n.filter)?(r=RegExp.$1.split(","),r=[r[0].split("=")[1],r[2].split("=")[1],r[1].split("=")[1],r[3].split("=")[1]]):r=[1,0,0,1],r[4]=n?n.left:0,r[5]=n?n.top:0,"matrix("+r+")"},set:function(t,n,r){var i=t.style,s,o,u;r||(i.zoom=1),n=h(n);if(!r||r.M){o=["Matrix(M11="+n[0],"M12="+n[2],"M21="+n[1],"M22="+n[3],"SizingMethod='auto expand'"].join(),u=(s=t.currentStyle)&&s.filter||i.filter||"",i.filter=c.test(u)?u.replace(c,o):u+" progid:DXImageTransform.Microsoft."+o+")";if(centerOrigin=e.transform.centerOrigin)i[centerOrigin=="margin"?"marginLeft":"left"]=-(t.offsetWidth/2)+t.clientWidth/2+"px",i[centerOrigin=="margin"?"marginTop":"top"]=-(t.offsetHeight/2)+t.clientHeight/2+"px"}if(!r||r.T)i.left=n[4]+"px",i.top=n[5]+"px"}}),f&&(e.cssHooks[r]=f),l=f&&f.get||e.css,e.fx.step.transform=function(e){var t=e.elem,n=e.start,r=e.end,i,s=e.pos,o,c,v,g,y,b=!1,w=!1,E;c=v=g=y="";if(!n||typeof n=="string"){n||(n=l(t,u)),a&&(t.style.zoom=1),i=r.split(n),i.length==2&&(r=i.join(""),e.origin=n,n="none"),e.start=n=n=="none"?{translate:[0,0],rotate:0,scale:[1,1],skew:[0,0]}:p(m(n)),e.end=r=~r.indexOf("matrix")?p(h(r)):d(r);for(E in n)(E=="rotate"?n[E]==r[E]:n[E][0]==r[E][0]&&n[E][1]==r[E][1])&&delete n[E]}n.translate&&(c=" translate("+(n.translate[0]+(r.translate[0]-n.translate[0])*s+.5|0)+"px,"+(n.translate[1]+(r.translate[1]-n.translate[1])*s+.5|0)+"px"+")",b=!0),n.rotate!=undefined&&(v=" rotate("+(n.rotate+(r.rotate-n.rotate)*s)+"rad)",w=!0),n.scale&&(g=" scale("+(n.scale[0]+(r.scale[0]-n.scale[0])*s)+","+(n.scale[1]+(r.scale[1]-n.scale[1])*s)+")",w=!0),n.skew&&(y=" skew("+(n.skew[0]+(r.skew[0]-n.skew[0])*s)+"rad,"+(n.skew[1]+(r.skew[1]-n.skew[1])*s)+"rad"+")",w=!0),o=e.origin?e.origin+c+y+g+v:c+v+g+y,f&&f.set?f.set(t,o,{M:w,T:b}):t.style[u]=o},e.transform={centerOrigin:"margin"}})(jQuery);